"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[7142],{97142:(e,t,n)=>{n.r(t),n.d(t,{RelationServiceTask:()=>a});var r=n(27387),i=n(35109),o=n(68457);class a{async execute(e,t){var a=r.U.exists("url",e.url,r.U.never);const c=r.U.array("geometry1",e.geometry1,r.U.never),l=r.U.array("geometry2",e.geometry2,r.U.never);if(e=r.U.string("relation",e.relation,"intersection"),!i.SH)return this.execute_tasksApi(a,c,l,e,t);const u=new(0,(await Promise.resolve().then(n.bind(n,20332))).default);return u.geometries1=c,u.geometries2=l,s(e)?(u.relation="relation",u.relationParameter=`RELATE(G1,G2,"${e}")`):u.relation=e,e={signal:t.cancellationToken.signal},e=(0,(await Promise.resolve().then(n.bind(n,98442))).default.relation)(a,u,e),(0,o.Iz)(t,e),{incident:(e=(await e).map((e=>[c[e.geometry1Index],l[e.geometry2Index]])))[0],incidents:e}}async execute_tasksApi(e,t,r,a,c){const l=new(0,(await n.e(3889).then(n.t.bind(n,63889,23))).RelationParameters);var u;l.geometries1=t,l.geometries2=r,s(a)?(l.relation="esriGeometryRelationRelation",u=`RELATE(G1,G2,"${a}")`,i.gu?l.relationParam=u:l.relationParameter=u):l.relation=this.getEsriGeometryRelation(a);const m=new(0,(await n.e(3889).then(n.t.bind(n,63889,23))).default)(e);return e=(0,o.Rw)(c.cancellationToken)?{signal:c.cancellationToken.signal}:void 0,e=m.relation(l,e),(0,o.Iz)(c,e),(0,o.Qo)(e,(function(e){return{incident:(e=e.map((function(e){return[t[e.geometry1Index],r[e.geometry2Index]]})))[0],incidents:e}}))}getEsriGeometryRelation(e){switch(e){case"cross":return"esriGeometryRelationCross";case"disjoint":return"esriGeometryRelationDisjoint";case"in":return"esriGeometryRelationIn";case"interior-intersection":return"esriGeometryRelationInteriorIntersection";case"intersection":return"esriGeometryRelationIntersection";case"line-coincidence":return"esriGeometryRelationLineCoincidence";case"line-touch":return"esriGeometryRelationLineTouch";case"overlap":return"esriGeometryRelationOverlap";case"point-touch":return"esriGeometryRelationPointTouch";case"touch":return"esriGeometryRelationTouch";case"within":return"esriGeometryRelationWithin";default:return e}}}function s(e){return/^[TF012\*]{9}$/.test(e)}a.action="gcx:wf:arcgis::RelationServiceTask",a.suite="gcx:wf:builtin"}}]);
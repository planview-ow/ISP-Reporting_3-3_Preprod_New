"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[4673],{94673:(r,e,s)=>{s.r(e),s.d(e,{RegisterCorsUrl:()=>n});var t=s(50586),i=s(27387),u=s(35109);class n{constructor(){this.esriConfig=t.default,this.isApi3x=u.gu,this.useTrustedServers=u.jd}execute(r){var e=i.U.string("url",r.url,i.U.never);return r=i.U.boolean("withCredentials",r.withCredentials,!1),{success:this.registerCorsUrl(e,r)}}registerCorsUrl(r,e=!1){var s=this.isApi3x?this.esriConfig.defaults&&this.esriConfig.defaults.io:this.esriConfig.request;return!!s&&(this.useTrustedServers?this.tryAddTrustedServer(this.esriConfig.request.trustedServers,r,e):(this.configureCorsSupport(s,e),this.tryAddCorsEnabledServer(s.corsEnabledServers,r,e)))}configureCorsSupport(r,e){var s="with-credentials";(!r.useCors||e&&r.useCors!==s)&&(r.useCors=!e||s)}tryAddCorsEnabledServer(r,e,s=!1){if(!r||!e)return!1;s=s?{host:e,withCredentials:s}:e;let t=r.indexOf(e);if(-1===t)for(let s=0;s<r.length;s++){var i=r[s];if("object"==typeof i&&i.host===e){t=s;break}}return-1===t?r.push(s):r[t]=s,!0}tryAddTrustedServer(r,e,s){if(!e)return!1;if(s){if(!r)return!1;-1===r.indexOf(e)&&r.push(e)}return!0}}n.action="gcx:wf:arcgis::RegisterCorsUrl",n.suite="gcx:wf:builtin"}}]);